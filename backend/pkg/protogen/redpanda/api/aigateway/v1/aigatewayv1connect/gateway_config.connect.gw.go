// Code generated by protoc-gen-connect-gateway. DO NOT EDIT.
//
// Source: redpanda/api/aigateway/v1/gateway_config.proto

package aigatewayv1connect

import (
	context "context"
	fmt "fmt"

	runtime "github.com/grpc-ecosystem/grpc-gateway/v2/runtime"
	v1 "go.panda.dev/redpanda-aigw/protos/gen/redpanda/api/aigateway/v1"
	connect_gateway "go.vallahaye.net/connect-gateway"
	codes "google.golang.org/grpc/codes"
	status "google.golang.org/grpc/status"
)

// GatewayConfigServiceGatewayServer implements the gRPC server API for the GatewayConfigService
// service.
type GatewayConfigServiceGatewayServer struct {
	v1.UnimplementedGatewayConfigServiceServer
	fetchConfig connect_gateway.UnaryHandler[v1.FetchConfigRequest, v1.FetchConfigResponse]
}

// NewGatewayConfigServiceGatewayServer constructs a Connect-Gateway gRPC server for the
// GatewayConfigService service.
func NewGatewayConfigServiceGatewayServer(svc GatewayConfigServiceHandler, opts ...connect_gateway.HandlerOption) *GatewayConfigServiceGatewayServer {
	return &GatewayConfigServiceGatewayServer{
		fetchConfig: connect_gateway.NewUnaryHandler(GatewayConfigServiceFetchConfigProcedure, svc.FetchConfig, opts...),
	}
}

func (s *GatewayConfigServiceGatewayServer) StreamConfig(v1.GatewayConfigService_StreamConfigServer) error {
	return status.Error(codes.Unimplemented, "streaming calls are not yet supported in the in-process transport")
}

func (s *GatewayConfigServiceGatewayServer) FetchConfig(ctx context.Context, req *v1.FetchConfigRequest) (*v1.FetchConfigResponse, error) {
	return s.fetchConfig(ctx, req)
}

// RegisterGatewayConfigServiceHandlerGatewayServer registers the Connect handlers for the
// GatewayConfigService "svc" to "mux".
func RegisterGatewayConfigServiceHandlerGatewayServer(mux *runtime.ServeMux, svc GatewayConfigServiceHandler, opts ...connect_gateway.HandlerOption) {
	if err := v1.RegisterGatewayConfigServiceHandlerServer(context.TODO(), mux, NewGatewayConfigServiceGatewayServer(svc, opts...)); err != nil {
		panic(fmt.Errorf("connect-gateway: %w", err))
	}
}
