// Code generated by protoc-gen-connect-gateway. DO NOT EDIT.
//
// Source: redpanda/api/dataplane/v1alpha3/observability.proto

package dataplanev1alpha3connect

import (
	context "context"
	fmt "fmt"

	runtime "github.com/grpc-ecosystem/grpc-gateway/v2/runtime"
	connect_gateway "go.vallahaye.net/connect-gateway"

	v1alpha3 "github.com/redpanda-data/console/backend/pkg/protogen/redpanda/api/dataplane/v1alpha3"
)

// ObservabilityServiceGatewayServer implements the gRPC server API for the ObservabilityService
// service.
type ObservabilityServiceGatewayServer struct {
	v1alpha3.UnimplementedObservabilityServiceServer
	listQueries         connect_gateway.UnaryHandler[v1alpha3.ListQueriesRequest, v1alpha3.ListQueriesResponse]
	executeRangeQuery   connect_gateway.UnaryHandler[v1alpha3.ExecuteRangeQueryRequest, v1alpha3.ExecuteRangeQueryResponse]
	executeInstantQuery connect_gateway.UnaryHandler[v1alpha3.ExecuteInstantQueryRequest, v1alpha3.ExecuteInstantQueryResponse]
}

// NewObservabilityServiceGatewayServer constructs a Connect-Gateway gRPC server for the
// ObservabilityService service.
func NewObservabilityServiceGatewayServer(svc ObservabilityServiceHandler, opts ...connect_gateway.HandlerOption) *ObservabilityServiceGatewayServer {
	return &ObservabilityServiceGatewayServer{
		listQueries:         connect_gateway.NewUnaryHandler(ObservabilityServiceListQueriesProcedure, svc.ListQueries, opts...),
		executeRangeQuery:   connect_gateway.NewUnaryHandler(ObservabilityServiceExecuteRangeQueryProcedure, svc.ExecuteRangeQuery, opts...),
		executeInstantQuery: connect_gateway.NewUnaryHandler(ObservabilityServiceExecuteInstantQueryProcedure, svc.ExecuteInstantQuery, opts...),
	}
}

func (s *ObservabilityServiceGatewayServer) ListQueries(ctx context.Context, req *v1alpha3.ListQueriesRequest) (*v1alpha3.ListQueriesResponse, error) {
	return s.listQueries(ctx, req)
}

func (s *ObservabilityServiceGatewayServer) ExecuteRangeQuery(ctx context.Context, req *v1alpha3.ExecuteRangeQueryRequest) (*v1alpha3.ExecuteRangeQueryResponse, error) {
	return s.executeRangeQuery(ctx, req)
}

func (s *ObservabilityServiceGatewayServer) ExecuteInstantQuery(ctx context.Context, req *v1alpha3.ExecuteInstantQueryRequest) (*v1alpha3.ExecuteInstantQueryResponse, error) {
	return s.executeInstantQuery(ctx, req)
}

// RegisterObservabilityServiceHandlerGatewayServer registers the Connect handlers for the
// ObservabilityService "svc" to "mux".
func RegisterObservabilityServiceHandlerGatewayServer(mux *runtime.ServeMux, svc ObservabilityServiceHandler, opts ...connect_gateway.HandlerOption) {
	if err := v1alpha3.RegisterObservabilityServiceHandlerServer(context.TODO(), mux, NewObservabilityServiceGatewayServer(svc, opts...)); err != nil {
		panic(fmt.Errorf("connect-gateway: %w", err))
	}
}
