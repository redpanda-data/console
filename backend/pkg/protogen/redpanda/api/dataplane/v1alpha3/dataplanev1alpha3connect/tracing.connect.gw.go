// Code generated by protoc-gen-connect-gateway. DO NOT EDIT.
//
// Source: redpanda/api/dataplane/v1alpha3/tracing.proto

package dataplanev1alpha3connect

import (
	context "context"
	fmt "fmt"

	runtime "github.com/grpc-ecosystem/grpc-gateway/v2/runtime"
	connect_gateway "go.vallahaye.net/connect-gateway"

	v1alpha3 "github.com/redpanda-data/console/backend/pkg/protogen/redpanda/api/dataplane/v1alpha3"
)

// TracingServiceGatewayServer implements the gRPC server API for the TracingService service.
type TracingServiceGatewayServer struct {
	v1alpha3.UnimplementedTracingServiceServer
	listTraces connect_gateway.UnaryHandler[v1alpha3.ListTracesRequest, v1alpha3.ListTracesResponse]
	getTrace   connect_gateway.UnaryHandler[v1alpha3.GetTraceRequest, v1alpha3.GetTraceResponse]
}

// NewTracingServiceGatewayServer constructs a Connect-Gateway gRPC server for the TracingService
// service.
func NewTracingServiceGatewayServer(svc TracingServiceHandler, opts ...connect_gateway.HandlerOption) *TracingServiceGatewayServer {
	return &TracingServiceGatewayServer{
		listTraces: connect_gateway.NewUnaryHandler(TracingServiceListTracesProcedure, svc.ListTraces, opts...),
		getTrace:   connect_gateway.NewUnaryHandler(TracingServiceGetTraceProcedure, svc.GetTrace, opts...),
	}
}

func (s *TracingServiceGatewayServer) ListTraces(ctx context.Context, req *v1alpha3.ListTracesRequest) (*v1alpha3.ListTracesResponse, error) {
	return s.listTraces(ctx, req)
}

func (s *TracingServiceGatewayServer) GetTrace(ctx context.Context, req *v1alpha3.GetTraceRequest) (*v1alpha3.GetTraceResponse, error) {
	return s.getTrace(ctx, req)
}

// RegisterTracingServiceHandlerGatewayServer registers the Connect handlers for the TracingService
// "svc" to "mux".
func RegisterTracingServiceHandlerGatewayServer(mux *runtime.ServeMux, svc TracingServiceHandler, opts ...connect_gateway.HandlerOption) {
	if err := v1alpha3.RegisterTracingServiceHandlerServer(context.TODO(), mux, NewTracingServiceGatewayServer(svc, opts...)); err != nil {
		panic(fmt.Errorf("connect-gateway: %w", err))
	}
}
